from datetime import datetime

class MyPet:
    total_pets = 0
    max_lifespan = 15

    def __init__(self, species: str, name: str, age: int, mass: float = None) -> None:
        print(f"--- Створено новий об'єкт: {species} на ім'я {name} ---")
        
        self.species = species
        self.name = name
        self.age = age
        self.mass = mass if mass is not None else 0.0
        
        MyPet.total_pets += 1

    def speak(self):
        if self.species == "Кіт":
            return f"{self.name} говорить: Мяууу!"
        elif self.species == "Собака":
            return f"{self.name} говорить: Гав-гав!"
        else:
            return f"{self.name} мовчить..."
    
    def add_one_year(self):
        self.age += 1
        return f"{self.name} святкує день народження, тепер йому {self.age} років."
    
    @property
    def years_left(self) -> int:
        return max(0, MyPet.max_lifespan - self.age)

    @property
    def current_status(self) -> str:
        return f"Тваринка: {self.species}, Ім'я: {self.name}, Вага: {self.mass} кг."
    
    @classmethod
    def from_csv_string(cls, data_string: str):
        parts = data_string.split(',')
        species, name, age, mass = parts[0].strip(), parts[1].strip(), int(parts[2].strip()), float(parts[3].strip())
        
        return cls(species, name, age, mass)
        
    @classmethod
    def create_capitalized(cls, species: str, name: str, age: int):
        if not name[0].isupper():
            print(f"[Попередження] Ім'я '{name}' виправлено на '{name.capitalize()}'.")
            name = name.capitalize()
        return cls(species, name, age)

    @staticmethod
    def get_time_of_creation() -> str:
        return f"Поточний час: {datetime.now().strftime('%H:%M:%S')}"

    def __str__(self) -> str:
        return f"<{self.species} | {self.name}, {self.age} р.>"
    
    def __repr__(self) -> str:
        return f'MyPet("{self.species}", "{self.name}", {self.age}, {self.mass})'
        
    def __len__(self) -> int:
        return len(self.name)
        
    def __gt__(self, other) -> bool:
        if isinstance(other, MyPet):
            return self.age > other.age
        return NotImplemented

    def __eq__(self, other) -> bool:
        if isinstance(other, MyPet):
            return (self.species, self.name, self.age, self.mass) == (
                other.species,
                other.name,
                other.age,
                other.mass,
            )
        return NotImplemented
    

    
